---
layout:     post
title:      读CSS权威指南
subtitle:   第三章
date:       2022-05-05
author:     zlw
header-img: img/home.jpg
catalog: 	 true
tags:
    - CSS
    - CSS权威指南
---

### 特指度

用户代理会计算每个规则中选择符的特指度，然后将其依附到规则的每个声明中。如果两个或多个属性声明有冲突，特指度最高的声明胜出。

**特指度**

- 重要声明：!import始终放在声明末尾的分号之前
  - !import的生命对特指度没有影响，但是会与不重要的声明分开处理。
  - !import的声明放在一起，特指度冲突在这个范围内解决
  - 非重要声明作为一个整体，冲突使用特指度解决
  - 重要声明和非重要声明冲突时，重要声明胜出

- 行内声明的特指度：1,0,0,0

- 选择符中的ID属性：0,1,0,0
- 选择符中的类属性、属性选择、伪类：0,0,1,0
- 选择符中的元素、伪元素：0,0,0,1
- 通用选择符的特指度：0,0,0,0
- 连接符没有特指度

多个选择符的特指度可能进行累加。

特指度是从左向右比较。

### 继承

继承指某些样式不仅应用到所指的元素上，还应用到元素的后代上。属性值绝不向上传播，即元素的样式不传给祖先元素。边框、多数盒模型属性不继承。

继承的值没有特指度，连零都没有。通配选择符能匹配任何元素，它往往能终结继承。

### 层叠

“层叠样式表”，CSS采用层叠机制把样式组合在一起，即结合继承和特指度的一些规则:

1. 找到匹配特定元素的所有规则

2. 按显式权重排序应用到特定元素上的所有声明。!import标记的规则比没有的高

3. 按来源排序应用到特定元素上的所有声明：

   1. 创作人员编写的样式击败读者提供的样式
   2. 读者的样式中以!import标记的声明比其他的样式权重高，包括创作人员编写的样式中以!import标记的声明
   3. 创作人员和读者样式默认覆盖用户代理的默认样式

   ```
   2、3条总结：
   1、读者提供的样式中以!import标记的声明
   2、创作人员编写的样式中以!import标记的声明
   3、创作人员编写的常规声明
   4、读者提供的常规声明
   5、用户代理默认的声明
   ```

4. 按特指度排序应用到特定元素上的所有声明，特指度高的声明具有较高的权重

5. 按声明的前后位置排序应用到特定元素上的所有声明，靠后的生命权重较高，导入的样式表中的声明放在当前样式表中所有声明后面。

### 注意：

a元素的推荐顺序：link-visited-focus-hover-active

a元素要么已访问，要么未访问，因此:link和:visited放在后面时会把其他样式覆盖，需要放在前面，而l、v之间没有顺序，:active状态时也能匹配到:hover状态，所以:active放在:hover后；

除了按照推荐顺序外，还可以把伪类串在一起消除样式覆盖问题，例如：

```
a:link{}
a:visited{}
a:link:hover{}
a:visited:hover{}
a:link:hover:active{}
a:visited:hover:activer()
```















